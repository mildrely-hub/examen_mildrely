<div class="container mt-5">
    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">Catálogo de Productos - EPIIS UNAMBA</h3>
        </div>
        <div class="card-body">

            <div class="mb-4">
                <label class="form-label fw-bold">Seleccione una Categoría:</label>
                <select class="form-select form-select-lg" (change)="onCategoriaChange($event)">
                    <option value="">-- Seleccione --</option>
                    @for (cat of categorias(); track cat.id) {
                    <option [value]="cat.id">{{ cat.name }}</option>
                    }
                </select>
            </div>

            <table class="table table-hover table-striped border">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Categoría</th>
                    </tr>
                </thead>
                <tbody>
                    @for (prod of productos(); track prod.id) {
                    <tr>
                        <td>{{ prod.id }}</td>
                        <td>{{ prod.name }}</td>
                        <td>{{ prod.price | currency:'PEN ':'symbol':'1.2-2' }}</td>
                        <td><span class="badge bg-info text-dark">{{ prod.categoria.name }}</span></td>
                    </tr>
                    } @empty {
                    <tr>
                        <td colspan="4" class="text-center text-muted">No hay productos para mostrar.</td>
                    </tr>
                    }
                </tbody>
            </table>

        </div>
    </div>
</div>